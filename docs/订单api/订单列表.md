# 进度
已完成

---

# 功能描述
订单列表

---

# 注意事项
1、时间查询优先级：当多个跨年份时间范围筛选时默认选择最高等级的年份进行查询。时间查询优先级数字越小等级越高
例如：
sysUpdateTimeRange  设置 1638288000000-1643644800000（2021/12/01-2022/02/01）
createTimeRange     设置 1640966400000-1643558400000（2022/01/01-2022/01/31）
则只会查询2022年的订单数据，但是sysUpdateTimeRange和createTimeRange条件会同时生效
---

# TPS
100/s 如量级超过的话，请联系业务人员增加！

---

# 请求方式
post 

---

# 请求url
/order/open/orderList

---

# 请求头
[点击此处查看](../请求头部及签名方式.md)

---

# 请求
| 字段                           | 类型          | 是否必须  | 示例                              | 描述                                |
| ----------------------------- | ------------ | ------- | --------------------------------- | ---------------------------------- |
| buyerId                       | Long         | 否       |                                  | 买家ID                                           |
| orderSnList                   | String[]     | 否       | ["20210614233416070117803093025280", "20210614233416070117803093025223"]  | 订单编号列表。最多20个  |
| statusList                    | String[]     | 否       | ["ORDER_FINISHED"]               | 订单状态列表。默认查询所有订单状态。参考：订单枚举-订单状态  |
| sysUpdateTimeRange            | object       | 否       |                                  | 系统修改时间范围筛选-如需读取往年数据，请填入过去年份的时间戳。默认只获取当前年数据。时间查询优先级：2 |
|   start                       | Long         | 否       | 1651334400000                    | 开始时间                               |
|   end                         | Long         | 否       | 1654012800000                    | 结束时间                               |
| createTimeRange               | object       | 否       |                                  | 创建时间范围筛选-如需读取往年数据，请填入过去年份的时间戳。默认只获取当前年数据。时间查询优先级：1|
|   start                       | Long         | 否       | 1651334400000                    | 开始时间                               |
|   end                         | Long         | 否       | 1654012800000                    | 结束时间                               |
| pointer                       | object       | 否       | 0                                | 分页对象                               |
|   limit                       | Integer      | 否       | 10                               | 页数，整数。默认值：10                    |
|   offset                      | Integer      | 否       | 0                                | 页码，整数。默认值：0                     |
| useHasNext                    | Boolean      | 否       | true                             | 是否启用hasNext的分页方式。默认值：true。如果指定true,则返回的结果中不包含总记录数(total)，但是会新增一个是否存在下一页的的字段(hasNext)  |

---

# 响应
## 整体
| 字段                          | 类型           | 示例                            | 描述                               |  
| ----------------------------- | ------------- | ------------------------------ | ---------------------------------- |
| total                         | Integer      | 999                              | 订单总数。如果请求参数useHasNext=true，则该字段不返回  |
| hasNext                       | Boolean      | TRUE                             | 是否存在下一页。                                    |
| list                          | Info[]       |                                  | 信息列表。具体字段参考Info类型                       |


## Info类型
| 字段                          | 类型          | 示例                                | 描述                                |
| ----------------------------- | ------------ | ---------------------------------- | ---------------------------------- |
| order                         | Order        |                                    | 订单。具体字段参考Order类型                |	
| orderExtend                   | OrderExtend  |                                    | 订单扩展信息。具体字段参考OrderExtend类型    |
| delivery                      | Delivery     |                                    | 收货信息。具体字段参考Delivery类型          |
| goodsList                     | Goods[]      |                                    | 订单商品列表。具体字段参考Goods类型          |


## Order类型
| 字段                          | 类型           | 示例                             | 描述                                 |
| ----------------------------- | ------------- | --------------------------------- | ---------------------------------- |
| orderSn                       | String(32)   | 20210614233416070117803093025280 | 订单编号                                 |
| buyerId                       | Long         | 10086                            | 买家ID                                  |
| buyerName                     | String(100)  | 张三                              | 买家昵称                                 |
| goodsAmount                   | Long         | 1234 = 12.34元                   | 商品总金额。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| shippingAmount                | Long         | 1234 = 12.34元                   | 运费总金额。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| discountAmount                | Long         | 1234 = 12.34元                   | 优惠总金额。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| payAmount                     | Long         | 1234 = 12.34元                   | 实付总金额。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| orderType                     | String(32)   | PP_ONLINE                        | 订单类型。参考：订单API-相关枚举-订单类型     |
| platformType                  | String(32)   | PP                               | 平台类型。参考：订单API-相关枚举-平台类型     |
| tradeCommission               | Long         | 34 = 0.34元                      | 交易佣金。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| status                        | String(32)   | ORDER_FINISHED                   | 订单状态。参考：订单API-相关枚举-订单状态     |
| payTime                       | Long         | 1651334400000                    | 支付时间。                                |
| confirmTime                   | Long         | 1651334400000                    | 订单结束时间。订单取消/订单完成都会更新这个字段 |
| createTime                    | Long         | 1651334400000                    | 订单创建时间                               |
| sysUpdateTime                 | Long         | 1651334400000                    | 订单修改时间。用户对订单的任何修改都会更新此字段 |


## OrderExtend类型
| 字段                           | 类型          | 示例                             | 描述                                 |
| ----------------------------- | ------------ | ------------------------------- | ---------------------------------- |
| buyerMessage                  | String(255)  | 记得是黑色的架子                    | 买家留言。                             |
| receivedEndTime               | Long         | 1623813284881                   | 收货结束时间。毫秒级时间戳               |


## Delivery类型
| 字段                           | 类型         | 示例                              | 描述                                |
| ----------------------------- | ------------ | --------------------------------- | ---------------------------------- |
| consignee                     | String(60)   | 李四                              | 收货人                               |
| regionName                    | String(128)  | 广东省广州市天河区                   | 收货省市区。如，广东省广州市天河区         |
| address                       | String(128)  | 陶庄路5号空间5楼                    | 收货地址信息。如，陶庄路5号空间5楼        |
| zipcode                       | String(20)   | 510599                           | 收货邮政编码。如，510599               |
| phoneMob                      | String(20)   | 13333333333                      | 收货手机号码。如，13333333333          |


## Goods类型
| 字段                          | 类型          | 示例                              | 描述                                |
| ----------------------------- | ------------ | -------------------------------- | ---------------------------------- |
| cateId                        | Long         | 123                              | 商品分类id                                      |
| cateName                      | String(255)  | 女装衬衫                           | 商品分类名称。注意，这里是将一、二级分类名称合并的     |
| goodsBrandId                  | Long         | 123                              | 品牌id                                          |
| goodsBrandName                | String(255)  | 欧莱雅                            | 品牌名称                                         |
| specId                        | Long         | 123                              | 规格id                                          |
| specName                      | String(255)  | 颜色                              | 规格名称                                         |
| specTpSn                      | String(32)   |                                  | 第三方规格编号                                    |
| goodsId                       | Long         |                                  | 商品ID                                          |
| goodsSn                       | String(32)   | XA1234                           | 商品货号                                         |
| goodsTpSn                     | String(32)   |                                  | 第三方商品货号                                    |
| goodsPrice                    | Long         | 1234 = 12.34元                   | 商品单价。注意！接口返回的是整数，如需要换算的话，需要接口调用方自己除以100以转移成实际的金额。如返回1234，意思是金额为12.34元  |
| goodsName                     | String(255)  | 夏天风外套                         | 商品名称                                         |
| goodsWeight                   | Integer      | 321                              | 商品重量（单位：克）                              |
| goodsImage                    | String(255)  | https://img.ppwang.com/xxx.jpg   | 商品主图绝对路径                                  |
| quantity                      | Integer      | 10                               | 商品购买数量                                     |

